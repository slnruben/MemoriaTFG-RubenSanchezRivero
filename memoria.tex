%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Plantilla de memoria en LaTeX para la ETSIT - Universidad Rey Juan Carlos
%%
%% Por Gregorio Robles <grex arroba gsyc.urjc.es>
%%     Grupo de Sistemas y Comunicaciones
%%     Escuela Tï¿½cnica Superior de Ingenieros de Telecomunicacion
%%     Universidad Rey Juan Carlos
%% (muchas ideas tomadas de Internet, colegas del GSyC, antiguos alumnos...
%%  etc. Muchas gracias a todos)
%%
%% La ultima version de esta plantilla esta siempre disponible en:
%%     https://github.com/gregoriorobles/plantilla-memoria
%%
%% Para obtener PDF, ejecuta en la shell:
%%   make
%% (las imagenes deben ir en PNG o JPG)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[a4paper, 12pt]{book}
%\usepackage[T1]{fontenc}

\usepackage[a4paper, left=2.5cm, right=2.5cm, top=3cm, bottom=3cm]{geometry}
\usepackage{times}
\usepackage[latin1]{inputenc}
\usepackage[spanish]{babel} % Comenta esta lï¿½nea si tu memoria es en inglï¿½s
\usepackage{url}
%\usepackage[dvipdfm]{graphicx}
\usepackage{graphicx}
\usepackage{float}  %% H para posicionar figuras
\usepackage{multicol}
\usepackage[nottoc, notlot, notlof, notindex]{tocbibind} %% Opciones de ï¿½ndice
\usepackage{latexsym}  %% Logo LaTeX
\usepackage{hyperref}

\title{Memoria del Proyecto}
\author{Nombre del autor}

\renewcommand{\baselinestretch}{1.5}  %% Interlineado

\begin{document}

\renewcommand{\refname}{Bibliografía}  %% Renombrando
\renewcommand{\appendixname}{Apéndice}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% PORTADA

\begin{titlepage}
\begin{center}
\begin{tabular}[c]{c c}
%\includegraphics[bb=0 0 194 352, scale=0.25]{logo} &
\includegraphics[scale=0.25]{img/logo_vect.png} &
\begin{tabular}[b]{l}
\Huge
\textsf{UNIVERSIDAD} \\
\Huge
\textsf{REY JUAN CARLOS} \\
\end{tabular}
\\
\end{tabular}

\vspace{3cm}

\Large
INGENIER\'IA TELEM\'ATICA

\vspace{0.4cm}

\large
Curso Acad\'emico 2017/2018

\vspace{0.8cm}

Trabajo Fin de Grado

\vspace{2.5cm}

\LARGE
APLICACIÓN MÓVIL ANDROID PARA RED COLABORATIVA PARA OBTENER INFORMACIÓN SOBRE TRABAJOS Y SUELDOS EN EL MERCADO LABORAL

\vspace{4cm}

\large
Autor : Rub\'en S\'anchez Rivero \\
Tutor : Pedro de Las Heras Quir\'os
\end{center}
\end{titlepage}

\newpage
\mbox{}
\thispagestyle{empty} % para que no se numere esta pagina


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Para firmar
\clearpage
\pagenumbering{gobble}
\chapter*{}

\vspace{-4cm}
\begin{center}
\LARGE
\textbf{Trabajo Fin de Grado}

\vspace{1cm}
\large
Aplicaci\'on Móvil Android para Red Colaborativa para obtener Información sobre Trabajos y Sueldos en el Mercado Laboral

\vspace{1cm}
\large
\textbf{Autor :} Rub\'en S\'anchez Rivero \\
\textbf{Tutor :} Pedro de Las Heras Quir\'os

\end{center}

\vspace{1cm}
La defensa del presente Proyecto Fin de Carrera se realiz\'o el d\'ia \qquad$\;\,$ de \qquad\qquad\qquad\qquad \newline de 2018, siendo calificada por el siguiente tribunal:


\vspace{0.5cm}
\textbf{Presidente:}

\vspace{1.2cm}
\textbf{Secretario:}

\vspace{1.2cm}
\textbf{Vocal:}


\vspace{1.2cm}
y habiendo obtenido la siguiente calificaci\'on:

\vspace{1cm}
\textbf{Calificaci\'on:}


\vspace{1cm}
\begin{flushright}
Fuenlabrada, a \qquad$\;\,$ de \qquad\qquad\qquad\qquad de 2018
\end{flushright}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Agradecimientos

\chapter*{Agradecimientos}
\markboth{AGRADECIMIENTOS}{AGRADECIMIENTOS}

Primero de todo, me gustar\'ia agradecer a mi familia y especialmente a mis padres por su apoyo y comprensión.

Adem\'as, me gustar\'ia darles las gracias a mis amigos por sus \'animos.

Por supuesto, también quiero agradecer a Pedro de Las Heras Quir\'os, por su tiempo, su paciencia y su esfuerzo para ayudarme a completar este proyecto.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%% Resumen

\chapter*{Resumen}
\markboth{RESUMEN}{RESUMEN}

En la actualidad la poca información y la falta de experiencia hace que resulte complicado la elección de un puesto de trabajo, esto se acentúa más si se disponen de pocas ofertas y sobre todo por el sistema actual de becarios como entrada en el mundo laboral. Además, una vez se está asentado en una empresa es fácil desconocer la actualidad del mercado que nos rodea, el cual ha podido mejorar y cuáles son las empresas que mejor valoran las aptitudes, los conocimientos y la experiencia de la que se disponga.

En este proyecto se pretende realizar una aplicación que permita a los usuarios compartir información que les ayude a elegir su futuro trabajo y a evaluar el actual. Debido al carácter delicado de los datos su manejo se realiza cifrado y los usuarios son los que deciden que información comparten de forma pública, o incluso mantenerse en el anonimato mostrando únicamente su sueldo bruto. Los usuarios contactan entre ellos y entablan una negociación mediante la que solicitan un intercambio de datos.

En este trabajo fin de grado se ha seguido una metodología basada en desarrollo ágil. En el desarrollo de la aplicación se ha ido incrementando la funcionalidad mediante ciclos iterativos hasta cumplir con los objetivos generales y los requisitos específicos que se iban planteando durante su elaboración.

Para el desarrollo se han aplicado tecnologías y herramientas como Pencil, Android Studio, Java, PostgreSQL, Git, GitHub y Eclipse. Además, para la parte del servidor se ha utilizado Travis CI y el sistema de hosting de Heroku, permitiendo una integración continua del código mediante la automatización de Travis CI para validar, compilar los cambios subidos en GitHub y posteriormente desplegar el servidor actualizado en Heroku.

Los resultados obtenidos ofrecen una valoración positiva de la aplicación, por su funcionalidad, su interfaz intuitiva y el cumplimiento de los objetivos.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% INDICES %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\tableofcontents 
\cleardoublepage
\listoffigures 


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% INTRODUCCION %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\cleardoublepage
\chapter{Introducci\'on}
\label{sec:intro}
\pagenumbering{arabic}

Este Trabajo Fin de Grado se desarrolla en el \'ambito de las aplicaciones m\'oviles, concretamente en Android. En este cap\'itulo introduciremos  los conceptos b\'asicos, las tecnolog\'ias y las herramientas utilizadas.

\section{Aplicaciones m\'oviles}
\label{sec:seccion}

Las aplicaciones permiten al usuario realizar funciones muy concretas y de cualquier tipo, facilitando las gestiones o actividades a desarrollar.

Actualmente los dispositivos móviles se han convertido en uno de los principales medios de conexión a la red, siendo una alternativa a las formas tradicionales. Además debido a su fácil acceso, disponibilidad, rapidez y manejo hace que el potencial y el uso de las aplicaciones móviles sea muy alto.

\section{Tecnologías y Herramientas}
\label{sec:seccion}

Entran en este \'ambito todas aquellas herramientas y tecnolog\'ias m\'as relevantes usadas en el Trabajo Fin de Grado.

\subsection{Pencil}
\label{subsec:pencil}

Herramienta de código abierto para la creación de prototipos de interfaz gráfica de usuario (GUI)~\cite{gui}, Pencil~\cite{pencil} permite crear maquetas de sitios web y aplicaciones sin hacer uso de lenguajes de programación.

\subsection{Lucidchart}
\label{subsec:lucidchart}

Herramienta de diagramación web basada en la nube, Lucidchart~\cite{lucidchart} permite a los usuarios colaborar y trabajar en equipo en tiempo real. Sirve para crear diagramas, modelos, organigramas, esquemas, diseños UML~\cite{uml}, mapas y bocetos.

\subsection{Android Studio}
\label{subsec:android_studio}

Desarrollado por Google~\cite{google}, Android Studio~\cite{android_studio} es el entorno de desarrollo integrado (IDE) oficial para la plataforma Android~\cite{android} y est\'a basado en IntelliJ IDEA~\cite{intellij_idea}.
Permite crear y emular las apps en tiempo real para todos los dispositivos de Android, además se pueden ejecutar directamente desde el m\'ovil.
Tiene herramientas completas de edición, depuración, pruebas y perfilamiento de códigos.

\subsection{Eclipse}
\label{subsec:eclipse}

Desarrollado originalmente por IBM~\cite{ibm} y actualmente por la Fundaci\'on Eclipse, Eclipse~\cite{eclipse} es una plataforma de software compuesto por un conjunto de herramientas de programaci\'on de c\'odigo abierto multiplataforma. Esta plataforma, t\'ipicamente ha sido usada para desarrollar entornos de desarrollo integrados, como el IDE de Java llamado Java Development Kit (JDK) y el compilador (ECJ) que son parte de Eclipse.

Java Development Kit (JDK) es un software que provee herramientas de desarrollo para la creaci\'on de programas en Java.

\subsection{Java}
\label{subsec:java}

Desarrollado originalmente por James Gosling~\cite{james_gosling}, Java es un lenguaje de programaci\'on de prop\'osito general, concurrente, orientado a objetos y fuertemente tipado. Usado principalmente para aplicaciones de cliente-servidor.

\subsection{PostgreSQL}
\label{subsec:postgresql}

PostgreSQL~\cite{postgresql} es un sistema de gesti\'on de bases de datos relacional orientado a objetos y libre.

\subsection{Git}
\label{subsec:git}

Dise\~{n}ado por Linus Torvalds~\cite{linus_torvalds}, Git~\cite{git} es un software de control de versiones, pensando en la eficiencia y la confiabilidad del mantenimiento de versiones de aplicaciones cuando \'estas tienen un gran n\'umero de archivos de c\'odigo fuente. Su prop\'osito es llevar registro de los cambios en archivos de computadora y coordinar el trabajo que varias personas realizan sobre archivos compartidos.

\subsection{GitHub}
\label{subsec:github}

GitHub~\cite{github}  es una plataforma de desarrollo colaborativo para alojar proyectos utilizando el sistema de control de versiones Git. Se utiliza principalmente para la creaci\'on de código fuente de programas de computadora. El software que opera GitHub fue escrito en Ruby on Rails~\cite{ruby_on_rails}.

\subsection{Travis CI}
\label{subsec:travis_ci}

Travis CI~\cite{travis_ci} es un servicio de integraci\'on continua alojado y distribuido utilizado para crear y probar proyectos de software alojados en GitHub .
Se configura agregando un archivo llamado .travis.yml, que es un archivo de texto en formato YAML~\cite{yaml}, al directorio ra\'iz del repositorio.
Cuando se ha activado Travis CI para un repositorio dado, GitHub le notificar\'a cada vez que se actualice el contenido de ese repositorio o se env\'ie una solicitud de extracci\'on. Cuando Travis CI recibe las notificaciones de GitHub ejecutar\'a los comandos especificados en .travis.yml, que generalmente crean el software y ejecutan cualquier prueba automatizada.

\subsection{Heroku}
\label{subsec:heroku}

Heroku~\cite{heroku} es una plataforma como servicio (PaaS) que ofrece servicios de computaci\'on a trav\'es de la red y que soporta distintos lenguajes de programaci\'on.

\section{Estructura de la memoria}
\label{sec:estructura_memoria}

Los contenidos y la organizaci\'on de la información en esta memoria es la siguiente:

\begin{itemize}
  \item \textbf{Cap\'itulo 2:} en este cap\'itulo se presentan las motivaciones de realizar este proyecto, los objetivos y los requisitos del mismo.
  \item \textbf{Cap\'itulo 3:} en este cap\'itulo se describe la metodolog\'ia utilizada y se muestra d\'onde se puede acceder a todo el software de la aplicaci\'on
  \item \textbf{Cap\'itulo 4:} en este cap\'itulo se detalla el proceso de dise\~{n}o y desarrollo de la aplicaci\'on. Se ha organizado en funci\'on de las distintas pantallas.
  \item \textbf{Cap\'itulo 5:} en este cap\'itulo se analizan los resultados obtenidos una vez finalizado el proyecto.
  \item \textbf{Ap\'endices:} este apartado sirve de apoyo para el seguimiento de esta memoria.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% OBJETIVOS %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\cleardoublepage 
\chapter{Motivaci\'on y objetivos} 
\label{chap:motivacion_objetivos}

En este cap\'itulo se exponen los problemas que motivan la realizaci\'on de este proyecto, los objetivos generales y los requisitos que han condicionado su desarrollo.

\section{Motivaci\'on}
\label{sec:motivacion} 

En la actualidad existen distintas aplicaciones y p\'aginas web que permiten conocer informaci\'on del mercado laboral. En aplicaciones como Indeed~\cite{indeed}, LinkedIn~\cite{linkedin}, Infojobs~\cite{infojobs}, CornerJob~\cite{cornerjob} y Jobtoday~\cite{job_today} puedes buscar ofertas de trabajo y en algunas también mostrar tus datos a forma de Curr\'iculum p\'ublico. Por otro lado sitios web como TuSalario.es~\cite{tusalario}, OCCMundial.com~\cite{occmundial} y Hays.es~\cite{hays} puedes obtener informaci\'on orientativa para tu trabajo seg\'un los datos insertados.

Sin embargo no existe una red que permita obtener datos sobre sueldos y trabajos de primera mano, y menos aún de forma an\'onima y segura, en la que \'unicamente se compartan la informaci\'on que uno quiera y exclusivamente con la persona con quien quiera intercambiar dichos datos.

Dentro del departamento de Sistemas Telemáticos y Computación (GSyC)~\cite{gsyc} de la Universidad Rey Juan Carlos~\cite{urjc} se pretendía dar una herramienta a los alumnos con la que puedan conocer mejor el mercado laboral que les espera al finalizar los estudios y que les ayude en la elecci\'on de un trabajo.

De esta necesidad surge la motivaci\'on de crear una aplicaci\'on m\'ovil Android que cumpla dichos requisitos, FairWage~\cite{fairwage}.

\section{Objetivos generales}
\label{sec:objetivo-general} 

Como resultado del an\'alisis de la motivaci\'on descrita, se pueden extraer una serie de objetivos generales que deben de cumplirse en la implementaci\'on de este proyecto. Estos objetivos son:

\begin{enumerate}
  \item Desarrollar una aplicaci\'on funcional que permita intercambiar informaci\'on entre usuarios en tiempo real.
  \item Garantizar la confidencialidad y la seguridad de los datos ingresados por los usuarios y su intercambio.
  \item Desarrollar un servidor mínimo, que guarde la menor cantidad de datos el menor tiempo posible.
  \item Proporcionar una interfaz sencilla e intuitiva para facilitar su manejo.
  \item Asegurar fluidez y optimizaci\'on en la aplicaci\'on.
\end{enumerate}


\section{Especificación de requisitos}
\label{sec:especificacion-requisitos}

\begin{enumerate}
  \item Proporcionar una interfaz de registro con la que el usuario pueda darse de alta en la aplicaci\'on.
  \item Autenticar a los usuarios para poder acceder a la funcionalidad de la aplicaci\'on.
  \item Dar al usuario la posibilidad de rellenar y editar su perfil informaci\'on, as\'i como elegir cu\'ales de esos datos son de dominio público y cuáles son privados. El único campo que siempre será público es el sueldo bruto.
  \item Mostrar al usuario los datos de su perfil y la posibilidad de borrar al mismo dándose de baja en la aplicación.
  \item Poder enviar solicitudes a otros usuarios para intercambiar información, una vez enviadas se debe poder cancelar y eliminar dicha solicitud.
  \item Poder elegir concretamente que datos son los que quiero obtener de otro usuario y cuales son los que le ofrezco.
  \item Poder aceptar, rechazar o mandar una contraoferta de las solicitudes recibidas por otros usuarios.
  \item Almacenar y mostrar una lista con todos los datos recibidos de otros usuarios, dando la posibilidad de ser borrados de manera individual.
  \item Almacenar y mostrar una lista con todas las solicitudes, tanto las enviadas como las recibidas, así como el estado en el que se encuentran en ese momento.
  \item Hacer uso de claves públicas y privadas para cifrar los datos enviados de forma que únicamente el destinatario pueda descifrar dicha información.
  \item Garantizar la privacidad del usuario, para ello el servidor aparte del nombre del usuario no conocerá ningún dato que no sea público.
  \item Otorgar la posibilidad de actualizar de manera manual los listados de solicitudes y de contactos.
  \item Notificar al cliente si hay novedades en las solicitudes o los contactos.
\end{enumerate}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ASPECTOS DEL DESARROLLO %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\cleardoublepage
\chapter{Aspectos del desarrollo}
\label{sec:aspectos_desarrollo} 

En este capítulo se expone la metodología utilizada para realizar el proyecto y la ubicacción del software del mismo.

\section{Metodología}
\label{metodologia} 

En este Trabajo Fin de Grado se ha realizado una fase inicial que consiste en:

\begin{itemize}
  \item \textbf{Consolidación, búsqueda y aprendizaje:} se establecen los objetivos generales de la aplicación, la búsqueda de las herramientas necesarias para realizarla y su aprendizaje.
  \item \textbf{Prototipado:} se elabora un diseño básico de la aplicación móvil usando la herramienta Pencil.
  \item \textbf{Configuración:} se prepara la configuración del servidor para que los cambios publicados en el repositorio de Github sean automáticamente validados y compilados por Travis y enviados a Heroku, que es el encargado de ejecutar el servidor.
\end{itemize}

 Posteriormente durante la elaboración del proyecto se realizó una metodología de desarrollo ágil en la cual mediante ciclos iterativos se incrementaba la funcionalidad del software. 

El desarrollo ágil de software envuelve un enfoque para la toma de decisiones en los proyectos de software, que se refiere a métodos de ingeniería del software basados en el desarrollo iterativo e incremental, donde los requisitos y soluciones evolucionan con el tiempo según la necesidad del proyecto.
Los métodos ágiles enfatizan las comunicaciones cara a cara en vez de la documentación. 

El objetivo de cada iteración es agregar sofware sin errores, cada iteración en el ciclo de desarrollo ha incluido:

\begin{itemize}
  \item \textbf{Planificación:} se establecen los requisitos específicos prioritarios los cuales pueden cambiar o incluso a\~{n}adirse nuevos según se va desarrollando la aplicación.
  \item \textbf{Análisis de requisitos:} se recogen las mejoras y funcionalidades que se pueden a\~{n}adir en los requisitos cumplidos y los que quedan pendientes. Se procede según las prioridades decididas en la fase de planificación.
  \item \textbf{Diseño:} se elabora una arquitectura similar a la propuesta en el prototipado para implementar los requisitos o las mejoras.
  \item \textbf{Codificación:} desarrollo de las funcionalidades pertinentes.
  \item \textbf{Pruebas:} comprobar que el diseño y la codificación cumplen con los requisitos acordados y se evalúa el resultado para posibles mejoras.
  \item \textbf{Documentación:} se anotan los requisitos implementados y el proceso realizado para conseguirlo, se anotan posibles mejoras que pueden ser introducidas posteriormente.
  \item \textbf{Integración:} se publican los cambios realizados en la aplicación en los repositorios de GitHub.
\end{itemize}

\begin{figure}[H]
  \centering
  \includegraphics[width=\linewidth, keepaspectratio]{img/esquema_metodologia_agil}
  \caption{Estructura metodología ágil}
  \label{fig:esquema_metodologia_agil}
\end{figure}

\section{Acceso al software del proyecto}
\label{acceso_software_proyecto}

El código fuente de la aplicación está disponible en un repositorio público de Github~\cite{fairwage}.

El código fuente de la memoria está disponible en un repositorio público de Github~\cite{memoria}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ARQUITECTURA Y DESARROLLO DE LA APLICACION %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\cleardoublepage
\chapter{Arquitectura y desarrollo de la aplicación}
\label{sec:arquitectura_desarrollo_aplicacion} 

En este capítulo se expone detalladamente la arquitectura y la implementación de la aplicación, esta se encuentra dividida en dos partes, el lado del cliente y el del servidor.

\section{Arquitectura general} 
\label{sec:arquitectura}

Para facilitar el seguimiento de la funcionalidad de la aplicación y dar una visión global de la misma se ha realizado un diagrama que explique las interacciones de los clientes con el servidor y otros diagramas mostrando la estructura de las bases de datos, tanto en el cliento como en el servidor.

\subsection{Diagrama relación cliente-servidor}
\label{subsec:diagrama_cliente_servidor}

Las interacción entre cliente y servidor se puede dividir en cinco tipos, el más complejo que es el proceso de negociación a pesar de sus variaciones siempre sigue el mismo flujo.

\begin{figure}[H]
  \centering
  \includegraphics[width=\linewidth, keepaspectratio]{img/cliente-servidor}
  \caption{Diagrama relación cliente-servidor}
  \label{fig:cliente-servidor}
\end{figure}

\subsection{Diagrama base de datos cliente}
\label{subsec:diagrama_base_datos_cliente}

El cliente divide la estructura de su base de datos de la siguiente forma:

\begin{enumerate}
  \item \textbf{Usuarios:} aquí se guardan los datos de cada usuario, permitiendo que los cambios realizados en el perfil sean persistentes y que se puedan crear varios perfiles en una misma aplicación.
  \item \textbf{Contactos:} aquí se guardan los datos de los contactos guardados obtenidos mediante negociaciones, permitiendo poder acceder a su información en cualquier momento.
  \item \textbf{Negociaciones:} aquí se guardan los datos de las negociaciones, permitiendo porder realizar un seguimiento del estado de las mismas.
\end{enumerate}

\begin{figure}[H]
  \centering
  \includegraphics[width=\linewidth, keepaspectratio]{img/cliente}
  \caption{Diagrama base de datos cliente}
  \label{fig:cliente}
\end{figure}

\subsection{Diagrama base de datos servidor}
\label{subsec:diagrama_base_datos_servidor}

El servidor divide la estructura de su base de datos de la siguiente forma:

\begin{enumerate}
  \item \textbf{Usuarios:} aquí se guardan los datos públicos de cada usuario, permitiendo dar una mayor visibilidad a la hora de que un usuario realice una búsqueda. Además se almacena su nombre de usuario para llevar un control del registro y su clave pública para poder recibir información de otros contactos de forma segura.
  \item \textbf{Contactos:} aquí se guardan temporalmente los datos de un contacto cuando ha aceptado una negociación, esta información sera entregada al creador de la solicitud y posteriormente eliminado del servidor.
  \item \textbf{Negociaciones:} aquí se guardan los datos de las negociaciones.
\end{enumerate}

\begin{figure}[H]
  \centering
  \includegraphics[width=\linewidth, keepaspectratio]{img/servidor}
  \caption{Diagrama base de datos servidor}
  \label{fig:servidor}
\end{figure}

\section{Apartados de la aplicación} 
\label{sec:apartados_aplicacion}

A continuación se detallarán las diferentes pantallas que tiene la aplicación y se mostrará una imagen del prototipo correspondiente para una mejor visualización.

\subsection{Pantalla de inicio de sesión}
\label{subsec:pantalla_inicio_sesion}

\begin{figure}[H]
  \centering
  \includegraphics[height=10cm, keepaspectratio]{img/login}
  \caption{Pantalla de inicio de sesión}
  \label{fig:login}
\end{figure}

El propósito de esta pantalla es la autenticación de los usuarios. Está compuesta por:

\begin{enumerate}
  \item Un campo para introducir el nombre del usuario.
  \item Un campo para introducir la contraseña del usuario.
  \item Un apartado para ir a la pantalla de registro.
  \item Un botón para comprobar que el usuario está registrado en el servidor y que los datos son correctos.
  \item Un botón para salirse de la aplicación.
\end{enumerate}

Cuando se pulsa el botón de enviar se comprueba que ningún campo esté vacío, si alguno lo está, será marcado y se informa al usuario que tiene que rellenarlo.
Posteriormente se comprueba que el usuario está registrado en el servidor y de forma local que la autenticación es correcta, en caso de no serla, se avisa al usuario de que los datos son erróneos.
Si la autenticación se realiza con éxito se inicia la pantalla de búsqueda.

\subsection{Pantalla de registro}
\label{subsec:pantalla_registro}

\begin{figure}[H]
  \centering
  \includegraphics[height=10cm, keepaspectratio]{img/register}
  \caption{Pantalla de registro}
  \label{fig:register}
\end{figure}

El propósito de esta pantalla es dar de alta a los usuarios nuevos de la aplicación. Está compuesta por:

\begin{enumerate}
  \item Un campo para introducir el nombre del usuario.
  \item Un campo para introducir la contraseña del usuario.
  \item Un campo para introducir el sueldo bruto.
  \item Un apartado para ir a la pantalla de inicio de sesión.
  \item Un botón para realizar el alta del usuario en el servidor en caso de que los datos introducidos sean correctos y el nombre de usuario esté disponible.
  \item Un botón para salirse de la aplicación.
\end{enumerate}

Cuando se pulsa el botón de enviar se comprueba que ningún campo esté vacío, si alguno lo está, será marcado y se informa al usuario que tiene que rellenarlo.
Posteriormente se envía el nombre de usuario al servidor el cual comprueba que esté disponible, en caso de que se esté utilizando en otro dispositivo se informa de que el nombre elegido no es válido. Si es válido el servidor guarda tanto el nombre de usuario como el sueldo bruto, que fueron previamente enviados juntos.
Si el registro se realiza con éxito se guardará de forma local los datos del usuario y se inicia la pantalla de búsqueda.

\subsection{Pantalla de búsqueda}
\label{subsec:pantalla_busqueda}

\begin{figure}[H]
  \centering
  \includegraphics[height=10cm, keepaspectratio]{img/search}
  \caption{Pantalla de búsqueda}
  \label{fig:search}
\end{figure}

El propósito de esta pantalla es ofrecer una interfaz mediante la cual puedan realizarse búsquedas de sueldos brutos de otros usuarios, además se pueden introducir ciertos parámetros para acotar los resultados obtenidos. Está compuesta por:

\begin{enumerate}
  \item Un botón para ir a la pantalla del perfil del usuario.
  \item Un botón para ir a la pantalla de edición del perfil del usuario.
  \item Un botón para ir al listado de contactos guardados.
  \item Un botón para ir al listado de solicitudes, tanto las enviadas como las recibidas.
  \item Un campo para introducir el sueldo bruto mínimo buscado.
  \item Un campo para introducir el trabajo buscado.
  \item Dos campos para introducir los sectores del empleo buscado.
  \item Un apartado para añadir conocimientos variados.
  \item Un botón para realizar la búsqueda en el servidor de los perfiles que encajen con los parámetros que se hayan proporcionado.
  \item Un botón para desconectar al usuario actual e ir a la pantalla de inicio de sesión.
\end{enumerate}

Cuando se pulsa el botón de buscar se inicia la pantalla del listado de contactos.

\subsection{Pantalla del listado de contactos}
\label{subsec:pantalla_listado_contactos}

\begin{figure}[H]
  \centering
  \includegraphics[height=10cm, keepaspectratio]{img/searchresponse}
  \caption{Pantalla del listado de contactos}
  \label{fig:searchresponse}
\end{figure}

El propósito de esta pantalla es mostrar un listado de los contactos según los parámetros introducidos en la pantalla de búsqueda. Cada contacto se divide en filas y cada fila está compuesta por:

\begin{enumerate}
  \item El trabajo del contacto, no aparecerá nada en caso de que este campo no sea público.
  \item El sueldo bruto del contacto.
  \item Los sectores del contacto, si alguno no es público no aparecerá.
\end{enumerate}

Inicialmente los parámetros introducidos en la pantalla de búsqueda son enviados al servidor que devuelve los contactos correspondientes. Si no se ha rellenado ningún campo se muestran todos los perfiles existentes, de lo contrario únicamente se muestran aquellos contactos que coinciden al menos con uno de los parámetros.

Cuando se pulsa en un contacto en concreto se inicia la pantalla del perfil del contacto.

\subsection{Pantalla del perfil del contacto}
\label{subsec:pantalla_perfil_contacto}

\begin{figure}[H]
  \centering
  \includegraphics[height=10cm, keepaspectratio]{img/contactprofile}
  \caption{Pantalla del perfil del contacto}
  \label{fig:contactprofile}
\end{figure}

El propósito de esta pantalla es mostrar la información pública de un contacto, así como dar la posibilidad de enviar una solicitud en la que se pedirán nuevos datos. Está compuesta por:

\begin{enumerate}
  \item Los campos públicos de un contacto.
  \item Un botón para iniciar una negociación con dicho contacto.
\end{enumerate}

Cuando se pulsa el botón iniciar negociación se inicia la pantalla de negociación. 

\subsection{Pantalla de envío de negociación}
\label{subsec:pantalla_envio_negociacion}

\begin{figure}[H]
  \centering
  \includegraphics[height=10cm, keepaspectratio]{img/negotationrequest}
  \caption{Pantalla de envío de negociación}
  \label{fig:negotationrequest}
\end{figure}

El propósito de esta pantalla es elegir los datos personales que queremos conseguir del contacto seleccionado y marcar que datos se ofrecen a cambio. Está compuesta por:

\begin{enumerate}
  \item Una columna con los diferentes campos de un usuario y un switch para indicar que datos se ofrecen.
  \item Una columna con los diferentes campos de un usuario y un switch para indicar que datos se quieren obtener.
  \item Un botón para enviar la solicitud de negociación a dicho contacto.
  \item Un botón para cancelar la negociación y volver a la pantalla del perfil del contacto.
\end{enumerate}

Cuando se pulsa el botón de enviar negociación se comprueba que el usuario tenga rellenos los campos que ha ofrecido, en caso de estar alguno vacío se avisa de que debe rellenarlos para cumplimentar el envío.
Posteriormente se envían al servidor los datos seleccionados para que este se encargue de su transmisión al otro usuario. Además, en local se añade a la lista de negociaciones la solicitud creada con sus parámetros.
Finalmente se retorna al listado de contactos.

\subsection{Pantalla del perfil del usuario}
\label{subsec:pantalla_perfil_usuario}

\begin{figure}[H]
  \centering
  \includegraphics[height=10cm, keepaspectratio]{img/profile}
  \caption{Pantalla del perfil del usuario}
  \label{fig:profile}
\end{figure}

El propósito de esta pantalla es mostrar los datos personales que estén rellenos así como si actualmente son públicos o privados. Está compuesta por:

\begin{enumerate}
  \item Un botón para ir a la pantalla de edición del perfil del usuario.
  \item Un botón para ir a la pantalla de búsqueda.
  \item Un botón para ir al listado de contactos guardados.
  \item Un botón para ir al listado de negociaciones.
  \item Una columna con los diferentes campos rellenos de un usuario.
  \item Una columna con imágenes que diferencian el estado público o privado de cada campo.
\end{enumerate}

\subsection{Pantalla de edición del usuario}
\label{subsec:pantalla_edicion_usuario}

\begin{multicols}{1}
  \begin{figure}[H]
    \centering
    \includegraphics[width=.4\linewidth, keepaspectratio]{img/editprofile}
    \includegraphics[width=.4\linewidth, keepaspectratio]{img/editprofile2}
    \caption{Pantalla de edición del usuario}
    \label{fig:editprofile}
  \end{figure}
\end{multicols}

El propósito de esta pantalla es ofrecer una interfaz mediante la cual un usuario pueda cambiar los campos de su perfil y su correspondiente privacidad. Está compuesta por:

\begin{enumerate}
  \item Una columna con los diferentes campos con el valor actual en caso de haberse rellenado previamente.
  \item Una columna con la configuración de privacidad actual asociada a cada campo.
  \item Un botón para guardar los cambios.
  \item Un botón para cancelar la edición y volver a la pantalla anterior.
\end{enumerate}

Cuando se pulsa el botón de guardar cambios se envían al servidor aquellos campos que estén marcados como públicos y se borran del servidor aquellos que se hayan cambiado a privados. Además se guarda en local los datos actualizados y se vuelve a la pantalla anterior.

\subsection{Pantalla de contactos guardados}
\label{subsec:pantalla_contactos_guardados}

\begin{figure}[H]
  \centering
  \includegraphics[height=10cm, keepaspectratio]{img/searchresponse}
  \caption{Pantalla del listado de contactos}
  \label{fig:searchresponse}
\end{figure}

El propósito de esta pantalla es mostrar un listado de los contactos según guardados. Cada contacto se divide en filas y cada fila está compuesta por:

\begin{enumerate}
  \item El trabajo del contacto, no aparecerá nada en caso de que no se haya obtenido mediante la previa negociación.
  \item El sueldo bruto del contacto.
  \item Los sectores del contacto, si alguno no se ha obtenido mediante la previa negociación no aparecerá.
\end{enumerate}

Cuando se pulsa en un contacto en concreto se inicia la pantalla del perfil del contacto guardado.

\subsection{Pantalla del perfil del contactos guardado}
\label{subsec:pantalla_perfil_contactos_guardados}

\begin{figure}[H]
  \centering
  \includegraphics[height=10cm, keepaspectratio]{img/profilerequest}
  \caption{Pantalla del perfil del contacto guardado}
  \label{fig:profilerequest}
\end{figure}

El propósito de esta pantalla es mostrar la información de un contacto guardado, así como dar la posibilidad de borrar dicho contacto. Está compuesta por:

\begin{enumerate}
  \item Los campos del contacto obtenidos en la negociación.
  \item Un botón para borrar el contacto y volver a la pantalla de contactos guardados.
  \item Un botón para volver a la pantalla de contactos guardados.
\end{enumerate}

\subsection{Pantalla del listado de negociaciones}
\label{subsec:pantalla_listado_negociaciones}

\begin{figure}[H]
  \centering
  \includegraphics[height=10cm, keepaspectratio]{img/negotationslist}
  \caption{Pantalla del listado de negociaciones}
  \label{fig:negotationslist}
\end{figure}

El propósito de esta pantalla es mostrar un listado de las negociaciones guardadas y su estado para tener un seguimiento de las mismas. Cada negociación se divide en filas y cada fila está compuesta por:

\begin{enumerate}
  \item El trabajo del contacto, no aparecerá nada en caso de que este campo no sea público.
  \item El sueldo bruto del contacto.
  \item Los sectores del contacto, si alguno no es público no aparecerá.
  \item El estado de la negociación que puede ser: enviada, aceptada, rechazada, recibida.
\end{enumerate}

Cuando se pulsa en una negociación en concreto se iniciarán distintos procesos según su estado:

\begin{itemize}
  \item Si la negociación se encuentra en estado enviada se iniciará la pantalla de revisión de negociación.
  \item Si la negociación se encuentra en estado aceptada se dará la posibilidad de iniciar la pantalla del perfil del contacto obtenido y de borrar el registro de dicha negociación del listado.
  \item Si la negociación se encuentra en estado rechazada se dará la posibilidad de borrar el registro de dicha negociación del listado.
  \item Si la negociación se encuentra en estado recibida se iniciará la pantalla de recepción de negociación.
\end{itemize}

\subsection{Pantalla de revisión de negociación}
\label{subsec:pantalla_revision_negociacion}

\begin{figure}[H]
  \centering
  \includegraphics[height=10cm, keepaspectratio]{img/negotationrevision}
  \caption{Pantalla de revisión de negociación}
  \label{fig:negotationrevision}
\end{figure}

El propósito de esta pantalla es revisar que datos personales se han solicitado y cuales se han ofrecido a cambio. Está compuesta por:

\begin{enumerate}
  \item Una columna con los diferentes campos de un usuario y un switch para indicar que datos han sido solicitados.
  \item Una columna con los diferentes campos de un usuario y un switch para indicar que datos se han ofrecido.
  \item Un botón para mandar una contraoferta.
  \item Un botón para eliminar la negociación, avisar al servidor para que también borre dicha solicitud y volver a la pantalla del listado de negociaciones.
  \item Un botón para cancelar y volver a la pantalla del listado de negociaciones.
\end{enumerate}

Cuando se pulsa el botón de contraoferta se envía al servidor que la solicitud actual ha sido rechazada y se inicia la pantalla envío de negociación. 
Finalmente se retorna al listado de negociaciones.

\subsection{Pantalla de recepción de negociación}
\label{subsec:pantalla_recepcion_negociacion}

\begin{figure}[H]
  \centering
  \includegraphics[height=10cm, keepaspectratio]{img/negotationresponse}
  \caption{Pantalla de recepción de negociación}
  \label{fig:negotationresponse}
\end{figure}

El propósito de esta pantalla es revisar que datos personales se han solicitado y cuales se han ofrecido a cambio. Está compuesta por:

\begin{enumerate}
  \item Una columna con los diferentes campos de un usuario y un switch para indicar que datos han sido solicitados.
  \item Una columna con los diferentes campos de un usuario y un switch para indicar que datos se han ofrecido.
  \item Un botón para aceptar la negociación.
  \item Un botón para mandar una contraoferta.
  \item Un botón para rechazar la negociación, avisar al servidor de que dicha solicitud ha sido rechazada y volver a la pantalla del listado de negociaciones.
  \item Un botón para cancelar y volver a la pantalla del listado de negociaciones.
\end{enumerate}

Cuando se pulsa el botón de aceptar negociación se comprueba que el usuario tenga rellenos los campos que ha ofrecido, en caso de estar alguno vacío se avisa de que debe rellenarlos para cumplimentar el envío.
Posteriormente se envían al servidor los datos seleccionados para que este se encargue de su transmisión al otro usuario. Además, en local se añade a la lista de contactos guardados el nuevo contacto obtenido.
Cuando se pulsa el botón de contraoferta se envía al servidor que la solicitud actual ha sido rechazada y se inicia la pantalla envío de negociación. 
Finalmente se retorna al listado de negociaciones.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CONCLUSIONES %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\cleardoublepage
\chapter{Conclusiones}
\label{chap:conclusiones}

En este capítulo se exponen las conclusiones a las que se han llegado tras haber realizado el proyecto y posibles mejoras que se pueden desarrollar en la aplicación en el futuro.

\section{Consecución de objetivos}
\label{sec:consecucion-objetivos}

Se ha desarrollado una plataforma que permite a un usuario poder evaluar salarialmente el trabajo que se desempeña actualmente o de ofertas de trabajo que posea. Para ello se hace uso de un intercambio de información de primera mano con otros usuarios del mismo mercado laboral.

Se ha salvaguardado la integridad, la confidencialidad y la disponibilidad de los datos de los usuarios.

Sin embargo, dentro de los objetivos propuesto no se ha conseguido un intercambio de información en tiempo real. Se ha desarrollado un sistema de notificaciones con tecnología pull, en la cual la aplicación cliente pide al servidor de forma periódica actualizaciones. Además, se ha ofrecido la posibilidad de pedir manualmente dichas actualizaciones de manera ortogonal a las automáticas. Para solventar completamente este objetivo una posible solución sería implementar notificaciones push, esta se encuentra planteada en la sección trabajos futuros.

Con los resultados obtenidos del presente trabajo se puede concluir que la aplicación cubre los problemas y las motivaciones planteadas.

\section{Trabajos futuros}
\label{sec:trabajos_futuros}

Una vez finalizado el Trabajo Fin de Grado se consideran las siguientes ideas y funcionalidades que pueden ser implementadas en  el futuro:

\begin{itemize}
  \item Cambiar el sistema actual pull por las notificaciones push.
  \item Realizar la aplicación cliente en un sistema híbrido para permitir su acceso a usuarios que no sean Android.
  \item Realizar algún método de importación y exportación de usuarios, de forma que un mismo usuario pueda tener la aplicación con sus datos en diferentes dispositivos.
  \item Realizar algún sistema en el que se premie el buen uso y la colaboración en la aplicación, ya sea apareciendo en las listas de búsqueda mediante un ranking o alguna marca que los identifique como buenos usuarios.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% APENDICE(S) %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\cleardoublepage
%\appendix
%\chapter{Manual de usuario}
%\label{app:manual}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% BIBLIOGRAFIA %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\cleardoublepage

% Las siguientes dos instrucciones es todo lo que necesitas
% para incluir las citas en la memoria
\bibliographystyle{unsrt}
\bibliography{memoria}  % memoria.bib es el nombre del fichero que contiene
% las referencias bibliogrï¿½ficas. Abre ese fichero y mira el formato que tiene,
% que se conoce como BibTeX. Hay muchos sitios que exportan referencias en
% formato BibTeX. Prueba a buscar en http://scholar.google.com por referencias
% y verï¿½s que lo puedes hacer de manera sencilla.
% Mï¿½s informaciï¿½n: 
% http://texblog.org/2014/04/22/using-google-scholar-to-download-bibtex-citations/

\end{document}
